function menuClickHandle(e,t,i){e.click(function(){event.preventDefault(),$body.css("overflow","hidden"),$(".menu-wrap > div").addClass("hide"),$menu_wrap.removeClass("hide"),$title.html(t),i.removeClass("hide")})}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e,t){function i(){return new Date(Date.UTC.apply(Date,arguments))}function s(){var e=new Date;return i(e.getFullYear(),e.getMonth(),e.getDate())}function a(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function n(e){return function(){return this[e].apply(this,arguments)}}function o(e){return e&&!isNaN(e.getTime())}function r(t,i){function s(e,t){return t.toLowerCase()}var a,n=e(t).data(),o={},r=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var u in n)i.test(u)&&(a=u.replace(r,s),o[a]=n[u]);return o}function u(t){var i={};if(m[t]||(t=t.split("-")[0],m[t])){var s=m[t];return e.each(g,function(e,t){t in s&&(i[t]=s[t])}),i}}var l=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),i=0,s=this.length;i<s;i++)if(this[i].valueOf()===t)return i;return-1},remove:function(e){this.splice(e,1)},replace:function(t){t&&(e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var e=new l;return e.replace(this),e}};return function(){var i=[];return i.push.apply(i,arguments),e.extend(i,t),i}}(),h=function(t,i){e(t).data("datepicker",this),this._process_options(i),this.dates=new l,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=e(t),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.inputField.length,this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=e(v.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};h.prototype={constructor:h,_resolveViewName:function(e,i){return 0===e||"days"===e||"month"===e?0:1===e||"months"===e||"year"===e?1:2===e||"years"===e||"decade"===e?2:3===e||"decades"===e||"century"===e?3:4===e||"centuries"===e||"millennium"===e?4:i!==t&&i},_check_template:function(i){try{if(i===t||""===i)return!1;if((i.match(/[<>]/g)||[]).length<=0)return!0;var s=e(i);return s.length>0}catch(a){return!1}},_process_options:function(t){this._o=e.extend({},this._o,t);var a=this.o=e.extend({},this._o),n=a.language;m[n]||(n=n.split("-")[0],m[n]||(n=f.language)),a.language=n,a.startView=this._resolveViewName(a.startView,0),a.minViewMode=this._resolveViewName(a.minViewMode,0),a.maxViewMode=this._resolveViewName(a.maxViewMode,4),a.startView=Math.min(a.startView,a.maxViewMode),a.startView=Math.max(a.startView,a.minViewMode),a.multidate!==!0&&(a.multidate=Number(a.multidate)||!1,a.multidate!==!1&&(a.multidate=Math.max(0,a.multidate))),a.multidateSeparator=String(a.multidateSeparator),a.weekStart%=7,a.weekEnd=(a.weekStart+6)%7;var o=v.parseFormat(a.format);a.startDate!==-(1/0)&&(a.startDate?a.startDate instanceof Date?a.startDate=this._local_to_utc(this._zero_time(a.startDate)):a.startDate=v.parseDate(a.startDate,o,a.language,a.assumeNearbyYear):a.startDate=-(1/0)),a.endDate!==1/0&&(a.endDate?a.endDate instanceof Date?a.endDate=this._local_to_utc(this._zero_time(a.endDate)):a.endDate=v.parseDate(a.endDate,o,a.language,a.assumeNearbyYear):a.endDate=1/0),a.daysOfWeekDisabled=a.daysOfWeekDisabled||[],e.isArray(a.daysOfWeekDisabled)||(a.daysOfWeekDisabled=a.daysOfWeekDisabled.split(/[,\s]*/)),a.daysOfWeekDisabled=e.map(a.daysOfWeekDisabled,function(e){return parseInt(e,10)}),a.daysOfWeekHighlighted=a.daysOfWeekHighlighted||[],e.isArray(a.daysOfWeekHighlighted)||(a.daysOfWeekHighlighted=a.daysOfWeekHighlighted.split(/[,\s]*/)),a.daysOfWeekHighlighted=e.map(a.daysOfWeekHighlighted,function(e){return parseInt(e,10)}),a.datesDisabled=a.datesDisabled||[],e.isArray(a.datesDisabled)||(a.datesDisabled=[a.datesDisabled]),a.datesDisabled=e.map(a.datesDisabled,function(e){return v.parseDate(e,o,a.language,a.assumeNearbyYear)});var r=String(a.orientation).toLowerCase().split(/\s+/g),u=a.orientation.toLowerCase();if(r=e.grep(r,function(e){return/^auto|left|right|top|bottom$/.test(e)}),a.orientation={x:"auto",y:"auto"},u&&"auto"!==u)if(1===r.length)switch(r[0]){case"top":case"bottom":a.orientation.y=r[0];break;case"left":case"right":a.orientation.x=r[0]}else u=e.grep(r,function(e){return/^left|right$/.test(e)}),a.orientation.x=u[0]||"auto",u=e.grep(r,function(e){return/^top|bottom$/.test(e)}),a.orientation.y=u[0]||"auto";else;if(a.defaultViewDate){var l=a.defaultViewDate.year||(new Date).getFullYear(),h=a.defaultViewDate.month||0,c=a.defaultViewDate.day||1;a.defaultViewDate=i(l,h,c)}else a.defaultViewDate=s()},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var i,s,a,n=0;n<e.length;n++)i=e[n][0],2===e[n].length?(s=t,a=e[n][1]):3===e[n].length&&(s=e[n][1],a=e[n][2]),i.on(a,s)},_unapplyEvents:function(e){for(var i,s,a,n=0;n<e.length;n++)i=e[n][0],2===e[n].length?(a=t,s=e[n][1]):3===e[n].length&&(a=e[n][1],s=e[n][2]),i.off(s,a)},_buildEvents:function(){var t={keyup:e.proxy(function(t){e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:e.proxy(this.keydown,this),paste:e.proxy(this.paste,this)};this.o.showOnFocus===!0&&(t.focus=e.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.hasInput?this._events=[[this.inputField,t],[this.component,{click:e.proxy(this.show,this)}]]:this._events=[[this.element,{click:e.proxy(this.show,this),keydown:e.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":e.proxy(function(e){this.update(e.date)},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{mousedown:e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,i){var s=i||this.dates.get(-1),a=this._utc_to_local(s);this.element.trigger({type:t,date:a,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var i=this.dates.get(e);return v.formatDate(i,t,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&this.o.enableOnReadonly===!1))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&e(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var i;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&e.inArray("text/plain",t.originalEvent.clipboardData.types)!==-1)i=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;i=window.clipboardData.getData("Text")}this.setDate(i),this.update(),t.preventDefault()},_utc_to_local:function(e){return e&&new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return"undefined"!=typeof e?new Date(e):null},clearDates:function(){this.inputField&&this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:n("setDates"),setUTCDate:n("setUTCDates"),remove:n("destroy"),setValue:function(){var e=this.getFormattedDate();return this.inputField.val(e),this},getFormattedDate:function(i){i===t&&(i=this.o.format);var s=this.o.language;return e.map(this.dates,function(e){return v.formatDate(e,i,s)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(e){return this._process_options({daysOfWeekHighlighted:e}),this.update(),this},setDatesDisabled:function(e){this._process_options({datesDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),i=this.picker.outerHeight(),s=10,a=e(this.o.container),n=a.width(),o="body"===this.o.container?e(document).scrollTop():a.scrollTop(),r=a.offset(),u=[];this.element.parents().each(function(){var t=e(this).css("z-index");"auto"!==t&&0!==t&&u.push(parseInt(t))});var l=Math.max.apply(Math,u)+this.o.zIndexOffset,h=this.component?this.component.parent().offset():this.element.offset(),c=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),d=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=h.left-r.left,f=h.top-r.top;"body"!==this.o.container&&(f+=o),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=t-d)):h.left<0?(this.picker.addClass("datepicker-orient-left"),p-=h.left-s):p+t>n?(this.picker.addClass("datepicker-orient-right"),p+=d-t):this.picker.addClass("datepicker-orient-left");var g,m=this.o.orientation.y;if("auto"===m&&(g=-o+f-i,m=g<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+m),"top"===m?f-=i+parseInt(this.picker.css("padding-top")):f+=c,this.o.rtl){var v=n-(p+d);this.picker.css({top:f,right:v,zIndex:l})}else this.picker.css({top:f,left:p,zIndex:l});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),i=[],s=!1;return arguments.length?(e.each(arguments,e.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),i.push(t)},this)),s=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=e.map(i,e.proxy(function(e){return v.parseDate(e,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),i=e.grep(i,e.proxy(function(e){return!this.dateWithinRange(e)||!e},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate,s?this.setValue():i.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var t=this.o.weekStart,i="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(e,t){return parseInt(t)+1}),i+='<th class="cw">&#160;</th>');t<this.o.weekStart+7;)i+='<th class="dow',e.inArray(t,this.o.daysOfWeekDisabled)>-1&&(i+=" disabled"),i+='">'+m[this.o.language].daysMin[t++%7]+"</th>";i+="</tr>",this.picker.find(".datepicker-days thead").append(i)},fillMonths:function(){for(var e=this._utc_to_local(this.viewDate),t="",i=0;i<12;){var s=e&&e.getMonth()===i?" focused":"";t+='<span class="month'+s+'">'+m[this.o.language].monthsShort[i++]+"</span>"}this.picker.find(".datepicker-months td").html(t)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var i=[],s=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),n=new Date;return t.getUTCFullYear()<s||t.getUTCFullYear()===s&&t.getUTCMonth()<a?i.push("old"):(t.getUTCFullYear()>s||t.getUTCFullYear()===s&&t.getUTCMonth()>a)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===n.getFullYear()&&t.getUTCMonth()===n.getMonth()&&t.getUTCDate()===n.getDate()&&i.push("today"),this.dates.contains(t)!==-1&&i.push("active"),this.dateWithinRange(t)||i.push("disabled"),this.dateIsDisabled(t)&&i.push("disabled","disabled-date"),e.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)!==-1&&i.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),e.inArray(t.valueOf(),this.range)!==-1&&i.push("selected"),t.valueOf()===this.range[0]&&i.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&i.push("range-end")),i},_fill_yearsView:function(i,s,a,n,o,r,u,l){var h,c,d,p,f,g,m,v,y,w,D;for(h="",c=this.picker.find(i),d=parseInt(o/a,10)*a,f=parseInt(r/n,10)*n,g=parseInt(u/n,10)*n,p=e.map(this.dates,function(e){return parseInt(e.getUTCFullYear()/n,10)*n}),c.find(".datepicker-switch").text(d+"-"+(d+9*n)),m=d-n,v=-1;v<11;v+=1)y=[s],w=null,v===-1?y.push("old"):10===v&&y.push("new"),e.inArray(m,p)!==-1&&y.push("active"),(m<f||m>g)&&y.push("disabled"),m===this.viewDate.getFullYear()&&y.push("focused"),l!==e.noop&&(D=l(new Date(m,0,1)),D===t?D={}:"boolean"==typeof D?D={enabled:D}:"string"==typeof D&&(D={classes:D}),D.enabled===!1&&y.push("disabled"),D.classes&&(y=y.concat(D.classes.split(/\s+/))),D.tooltip&&(w=D.tooltip)),h+='<span class="'+y.join(" ")+'"'+(w?' title="'+w+'"':"")+">"+m+"</span>",m+=n;c.find("td").html(h)},fill:function(){var s,a,n=new Date(this.viewDate),o=n.getUTCFullYear(),r=n.getUTCMonth(),u=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),h=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,c=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,d=m[this.o.language].today||m.en.today||"",p=m[this.o.language].clear||m.en.clear||"",f=m[this.o.language].titleFormat||m.en.titleFormat;if(!isNaN(o)&&!isNaN(r)){this.picker.find(".datepicker-days .datepicker-switch").text(v.formatDate(n,f,this.o.language)),this.picker.find("tfoot .today").text(d).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(p).toggle(this.o.clearBtn!==!1),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths();var g=i(o,r-1,28),y=v.getDaysInMonth(g.getUTCFullYear(),g.getUTCMonth());g.setUTCDate(y),g.setUTCDate(y-(g.getUTCDay()-this.o.weekStart+7)%7);var w=new Date(g);g.getUTCFullYear()<100&&w.setUTCFullYear(g.getUTCFullYear()),w.setUTCDate(w.getUTCDate()+42),w=w.valueOf();for(var D,E=[];g.valueOf()<w;){if(g.getUTCDay()===this.o.weekStart&&(E.push("<tr>"),this.o.calendarWeeks)){var b=new Date(+g+(this.o.weekStart-g.getUTCDay()-7)%7*864e5),C=new Date(Number(b)+(11-b.getUTCDay())%7*864e5),k=new Date(Number(k=i(C.getUTCFullYear(),0,1))+(11-k.getUTCDay())%7*864e5),F=(C-k)/864e5/7+1;E.push('<td class="cw">'+F+"</td>")}D=this.getClassNames(g),D.push("day"),this.o.beforeShowDay!==e.noop&&(a=this.o.beforeShowDay(this._utc_to_local(g)),a===t?a={}:"boolean"==typeof a?a={enabled:a}:"string"==typeof a&&(a={classes:a}),a.enabled===!1&&D.push("disabled"),a.classes&&(D=D.concat(a.classes.split(/\s+/))),a.tooltip&&(s=a.tooltip)),D=e.isFunction(e.uniqueSort)?e.uniqueSort(D):e.unique(D),E.push('<td class="'+D.join(" ")+'"'+(s?' title="'+s+'"':"")+">"+g.getUTCDate()+"</td>"),s=null,g.getUTCDay()===this.o.weekEnd&&E.push("</tr>"),g.setUTCDate(g.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(E.join(""));var A=m[this.o.language].monthsTitle||m.en.monthsTitle||"Months",_=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?A:o).end().find("span").removeClass("active");if(e.each(this.dates,function(e,t){t.getUTCFullYear()===o&&_.eq(t.getUTCMonth()).addClass("active")}),(o<u||o>h)&&_.addClass("disabled"),o===u&&_.slice(0,l).addClass("disabled"),o===h&&_.slice(c+1).addClass("disabled"),this.o.beforeShowMonth!==e.noop){var x=this;e.each(_,function(i,s){var a=new Date(o,i,1),n=x.o.beforeShowMonth(a);n===t?n={}:"boolean"==typeof n?n={enabled:n}:"string"==typeof n&&(n={classes:n}),n.enabled!==!1||e(s).hasClass("disabled")||e(s).addClass("disabled"),n.classes&&e(s).addClass(n.classes),n.tooltip&&e(s).prop("title",n.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,1,o,u,h,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,10,o,u,h,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,100,o,u,h,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),i=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:case 3:case 4:this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){t.preventDefault(),t.stopPropagation();var a,n,o,r,u,l,h;a=e(t.target),a.hasClass("datepicker-switch")&&this.showMode(1);var c=a.closest(".prev, .next");c.length>0&&(n=v.modes[this.viewMode].navStep*(c.hasClass("prev")?-1:1),0===this.viewMode?(this.viewDate=this.moveMonth(this.viewDate,n),this._trigger("changeMonth",this.viewDate)):(this.viewDate=this.moveYear(this.viewDate,n),1===this.viewMode&&this._trigger("changeYear",this.viewDate)),this.fill()),a.hasClass("today")&&!a.hasClass("day")&&(this.showMode(-2),this._setDate(s(),"linked"===this.o.todayBtn?null:"view")),a.hasClass("clear")&&this.clearDates(),a.hasClass("disabled")||(a.hasClass("day")&&(o=parseInt(a.text(),10)||1,r=this.viewDate.getUTCFullYear(),u=this.viewDate.getUTCMonth(),a.hasClass("old")&&(0===u?(u=11,r-=1,l=!0,h=!0):(u-=1,l=!0)),a.hasClass("new")&&(11===u?(u=0,r+=1,l=!0,h=!0):(u+=1,l=!0)),this._setDate(i(r,u,o)),h&&this._trigger("changeYear",this.viewDate),l&&this._trigger("changeMonth",this.viewDate)),a.hasClass("month")&&(this.viewDate.setUTCDate(1),o=1,u=a.parent().find("span").index(a),r=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(u),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(i(r,u,o)),this.showMode()):this.showMode(-1),this.fill()),(a.hasClass("year")||a.hasClass("decade")||a.hasClass("century"))&&(this.viewDate.setUTCDate(1),o=1,u=0,r=parseInt(a.text(),10)||0,this.viewDate.setUTCFullYear(r),a.hasClass("year")&&(this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(i(r,u,o))),a.hasClass("decade")&&(this._trigger("changeDecade",this.viewDate),3===this.o.minViewMode&&this._setDate(i(r,u,o))),a.hasClass("century")&&(this._trigger("changeCentury",this.viewDate),4===this.o.minViewMode&&this._setDate(i(r,u,o))),this.showMode(-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&e(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),t!==-1?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(e)):this.dates.push(e),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),t&&"view"!==t||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate"),this.inputField&&this.inputField.change(),!this.o.autoclose||t&&"date"!==t||this.hide()},moveDay:function(e,t){var i=new Date(e);return i.setUTCDate(e.getUTCDate()+t),i},moveWeek:function(e,t){return this.moveDay(e,7*t)},moveMonth:function(e,t){if(!o(e))return this.o.defaultViewDate;if(!t)return e;var i,s,a=new Date(e.valueOf()),n=a.getUTCDate(),r=a.getUTCMonth(),u=Math.abs(t);if(t=t>0?1:-1,1===u)s=t===-1?function(){return a.getUTCMonth()===r}:function(){return a.getUTCMonth()!==i},i=r+t,a.setUTCMonth(i),(i<0||i>11)&&(i=(i+12)%12);else{for(var l=0;l<u;l++)a=this.moveMonth(a,t);i=a.getUTCMonth(),a.setUTCDate(n),s=function(){return i!==a.getUTCMonth()}}for(;s();)a.setUTCDate(--n),a.setUTCMonth(i);return a},moveYear:function(e,t){return this.moveMonth(e,12*t)},moveAvailableDate:function(e,t,i){do{if(e=this[i](e,t),!this.dateWithinRange(e))return!1;i="moveDay"}while(this.dateIsDisabled(e));return e},weekOfDateIsDisabled:function(t){return e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1},dateIsDisabled:function(t){return this.weekOfDateIsDisabled(t)||e.grep(this.o.datesDisabled,function(e){return a(t,e)}).length>0},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(!this.picker.is(":visible"))return void(40!==e.keyCode&&27!==e.keyCode||(this.show(),e.stopPropagation()));var t,i,s=!1,a=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault(),e.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;t=37===e.keyCode||38===e.keyCode?-1:1,0===this.viewMode?e.ctrlKey?(i=this.moveAvailableDate(a,t,"moveYear"),i&&this._trigger("changeYear",this.viewDate)):e.shiftKey?(i=this.moveAvailableDate(a,t,"moveMonth"),i&&this._trigger("changeMonth",this.viewDate)):37===e.keyCode||39===e.keyCode?i=this.moveAvailableDate(a,t,"moveDay"):this.weekOfDateIsDisabled(a)||(i=this.moveAvailableDate(a,t,"moveWeek")):1===this.viewMode?(38!==e.keyCode&&40!==e.keyCode||(t=4*t),i=this.moveAvailableDate(a,t,"moveMonth")):2===this.viewMode&&(38!==e.keyCode&&40!==e.keyCode||(t=4*t),i=this.moveAvailableDate(a,t,"moveYear")),i&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),e.preventDefault());break;case 13:if(!this.o.forceParse)break;a=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(a),s=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),e.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}s&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField&&this.inputField.change())},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+e))),this.picker.children("div").hide().filter(".datepicker-"+v.modes[this.viewMode].clsName).show(),this.updateNavArrows()}};var c=function(t,i){e(t).data("datepicker",this),this.element=e(t),this.inputs=e.map(i.inputs,function(e){return e.jquery?e[0]:e}),delete i.inputs,p.call(e(this.inputs),i).on("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};c.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,i){i.setRange(t)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var i=e(t.target).data("datepicker");if("undefined"!=typeof i){var s=i.getUTCDate(),a=e.inArray(t.target,this.inputs),n=a-1,o=a+1,r=this.inputs.length;if(a!==-1){if(e.each(this.pickers,function(e,t){t.getUTCDate()||t.setUTCDate(s)}),s<this.dates[n])for(;n>=0&&s<this.dates[n];)this.pickers[n--].setUTCDate(s);else if(s>this.dates[o])for(;o<r&&s>this.dates[o];)this.pickers[o++].setUTCDate(s);this.updateDates(),delete this.updating}}}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var d=e.fn.datepicker,p=function(i){var s=Array.apply(null,arguments);s.shift();var a;if(this.each(function(){var t=e(this),n=t.data("datepicker"),o="object"==typeof i&&i;if(!n){var l=r(this,"date"),d=e.extend({},f,l,o),p=u(d.language),g=e.extend({},f,p,l,o);t.hasClass("input-daterange")||g.inputs?(e.extend(g,{inputs:g.inputs||t.find("input").toArray()}),n=new c(this,g)):n=new h(this,g),t.data("datepicker",n)}"string"==typeof i&&"function"==typeof n[i]&&(a=n[i].apply(n,s))}),a===t||a instanceof h||a instanceof c)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");return a};e.fn.datepicker=p;var f=e.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:e.noop,beforeShowMonth:e.noop,beforeShowYear:e.noop,beforeShowDecade:e.noop,beforeShowCentury:e.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&laquo;",rightArrow:"&raquo;"}},g=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=h;var m=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},v={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"decades",navFnc:"FullDecade",navStep:100},{clsName:"centuries",navFnc:"FullCentury",navStep:1e3}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,v.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(e){if("function"==typeof e.toValue&&"function"==typeof e.toDisplay)return e;var t=e.replace(this.validParts,"\0").split("\0"),i=e.match(this.validParts);if(!t||!t.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(a,n,o,r){function u(e,t){return t===!0&&(t=10),e<100&&(e+=2e3,e>(new Date).getFullYear()+t&&(e-=100)),e}function l(){var e=this.slice(0,y[p].length),t=y[p].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!a)return t;if(a instanceof Date)return a;if("string"==typeof n&&(n=v.parseFormat(n)),n.toValue)return n.toValue(a,n,o);var c,d,p,f,g=/([\-+]\d+)([dmwy])/,y=a.match(/([\-+]\d+)([dmwy])/g),w={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},D={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(a)){for(a=new Date,p=0;p<y.length;p++)c=g.exec(y[p]),d=parseInt(c[1]),f=w[c[2]],a=h.prototype[f](a,d);return i(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate())}if("undefined"!=typeof D[a]&&(a=D[a],y=a.match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(a))){for(a=new Date,p=0;p<y.length;p++)c=g.exec(y[p]),d=parseInt(c[1]),f=w[c[2]],a=h.prototype[f](a,d);return i(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate())}y=a&&a.match(this.nonpunctuation)||[],a=new Date;var E,b,C={},k=["yyyy","yy","M","MM","m","mm","d","dd"],F={yyyy:function(e,t){return e.setUTCFullYear(r?u(t,r):t)},yy:function(e,t){return e.setUTCFullYear(r?u(t,r):t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;t<0;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};F.M=F.MM=F.mm=F.m,F.dd=F.d,a=s();var A=n.parts.slice();if(y.length!==A.length&&(A=e(A).filter(function(t,i){return e.inArray(i,k)!==-1}).toArray()),y.length===A.length){var _;for(p=0,_=A.length;p<_;p++){if(E=parseInt(y[p],10),c=A[p],isNaN(E))switch(c){case"MM":b=e(m[o].months).filter(l),E=e.inArray(b[0],m[o].months)+1;break;case"M":b=e(m[o].monthsShort).filter(l),E=e.inArray(b[0],m[o].monthsShort)+1;
}C[c]=E}var x,$;for(p=0;p<k.length;p++)$=k[p],$ in C&&!isNaN(C[$])&&(x=new Date(a),F[$](x,C[$]),isNaN(x)||(a=x))}return a},formatDate:function(t,i,s){if(!t)return"";if("string"==typeof i&&(i=v.parseFormat(i)),i.toDisplay)return i.toDisplay(t,i,s);var a={d:t.getUTCDate(),D:m[s].daysShort[t.getUTCDay()],DD:m[s].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:m[s].monthsShort[t.getUTCMonth()],MM:m[s].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};a.dd=(a.d<10?"0":"")+a.d,a.mm=(a.m<10?"0":"")+a.m,t=[];for(var n=e.extend([],i.separators),o=0,r=i.parts.length;o<=r;o++)n.length&&t.push(n.shift()),t.push(a[i.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};v.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+v.headTemplate+"<tbody></tbody>"+v.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=v,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=d,this},e.fn.datepicker.version="1.6.4",e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=e(this);i.data("datepicker")||(t.preventDefault(),p.call(i,"show"))}),e(function(){p.call(e('[data-provide="datepicker-inline"]'))})}),!function(e){e.fn.datepicker.dates["zh-TW"]={days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],daysShort:["週日","週一","週二","週三","週四","週五","週六"],daysMin:["日","一","二","三","四","五","六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],today:"今天",format:"yyyy年mm月dd日",weekStart:1,clear:"清除"}}(jQuery),function(e,t){"function"==typeof define&&define.amd?define(["exports"],t):t("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:e.commonJsStrict={})}(this,function(e){function t(e){if(e in H)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=j.length;i--;)if(e=j[i]+t,e in H)return e}function i(e,t){e=e||{};for(var s in t)t[s]&&t[s].constructor&&t[s].constructor===Object?(e[s]=e[s]||{},i(e[s],t[s])):e[s]=t[s];return e}function s(e,t,i){var s;return function(){var a=this,n=arguments,o=function(){s=null,i||e.apply(a,n)},r=i&&!s;clearTimeout(s),s=setTimeout(o,t),r&&e.apply(a,n)}}function a(e){if("createEvent"in document){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),e.dispatchEvent(t)}else e.fireEvent("onchange")}function n(e,t,i){if("string"==typeof t){var s=t;t={},t[s]=i}for(var a in t)e.style[a]=t[a]}function o(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function r(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(t,"")}function u(e){return parseInt(e,10)}function l(e,t,i){var s,a=t||new Image;return a.src===e?s=new Promise(function(e,t){e(a)}):(s=new Promise(function(t,s){i&&"http"===e.substring(0,4).toLowerCase()&&a.setAttribute("crossOrigin","anonymous"),a.onload=function(){setTimeout(function(){t(a)},1)}}),a.src=e),a.style.opacity=0,s}function h(e,t){window.EXIF||t(0),EXIF.getData(e,function(){var e=EXIF.getTag(this,"Orientation");t(e)})}function c(e,t,i){var s=t.width,a=t.height,n=e.getContext("2d");switch(e.width=t.width,e.height=t.height,n.save(),i){case 2:n.translate(s,0),n.scale(-1,1);break;case 3:n.translate(s,a),n.rotate(180*Math.PI/180);break;case 4:n.translate(0,a),n.scale(1,-1);break;case 5:e.width=a,e.height=s,n.rotate(90*Math.PI/180),n.scale(1,-1);break;case 6:e.width=a,e.height=s,n.rotate(90*Math.PI/180),n.translate(0,-a);break;case 7:e.width=a,e.height=s,n.rotate(-90*Math.PI/180),n.translate(-s,a),n.scale(1,-1);break;case 8:e.width=a,e.height=s,n.translate(0,s),n.rotate(-90*Math.PI/180)}n.drawImage(t,0,0,s,a),n.restore()}function d(){var e,t,i,s,a,r,u=this,l="croppie-container",h=u.options.viewport.type?"cr-vp-"+u.options.viewport.type:null;u.options.useCanvas=u.options.enableOrientation||p.call(u),u.data={},u.elements={},e=u.elements.boundary=document.createElement("div"),i=u.elements.viewport=document.createElement("div"),t=u.elements.img=document.createElement("img"),s=u.elements.overlay=document.createElement("div"),u.options.useCanvas?(u.elements.canvas=document.createElement("canvas"),u.elements.preview=u.elements.canvas):u.elements.preview=u.elements.img,o(e,"cr-boundary"),a=u.options.boundary.width,r=u.options.boundary.height,n(e,{width:a+(isNaN(a)?"":"px"),height:r+(isNaN(r)?"":"px")}),o(i,"cr-viewport"),h&&o(i,h),n(i,{width:u.options.viewport.width+"px",height:u.options.viewport.height+"px"}),i.setAttribute("tabindex",0),o(u.elements.preview,"cr-image"),o(s,"cr-overlay"),u.element.appendChild(e),e.appendChild(u.elements.preview),e.appendChild(i),e.appendChild(s),o(u.element,l),u.options.customClass&&o(u.element,u.options.customClass),w.call(this),u.options.enableZoom&&g.call(u)}function p(){return this.options.enableExif&&window.EXIF}function f(e){if(this.options.enableZoom){var t=this.elements.zoomer,i=U(e,4);t.value=Math.max(t.min,Math.min(t.max,i))}}function g(){function e(){m.call(i,{value:parseFloat(a.value),origin:new Z(i.elements.preview),viewportRect:i.elements.viewport.getBoundingClientRect(),transform:P.parse(i.elements.preview)})}function t(t){var s,a;s=t.wheelDelta?t.wheelDelta/1200:t.deltaY?t.deltaY/1060:t.detail?t.detail/-60:0,a=i._currentZoom+s*i._currentZoom,t.preventDefault(),f.call(i,a),e.call(i)}var i=this,s=i.elements.zoomerWrap=document.createElement("div"),a=i.elements.zoomer=document.createElement("input");o(s,"cr-slider-wrap"),o(a,"cr-slider"),a.type="range",a.step="0.0001",a.value=1,a.style.display=i.options.showZoomer?"":"none",i.element.appendChild(s),s.appendChild(a),i._currentZoom=1,i.elements.zoomer.addEventListener("input",e),i.elements.zoomer.addEventListener("change",e),i.options.mouseWheelZoom&&(i.elements.boundary.addEventListener("mousewheel",t),i.elements.boundary.addEventListener("DOMMouseScroll",t))}function m(e){function t(){var e={};e[V]=s.toString(),e[W]=o.toString(),n(i.elements.preview,e)}var i=this,s=e?e.transform:P.parse(i.elements.preview),a=e?e.viewportRect:i.elements.viewport.getBoundingClientRect(),o=e?e.origin:new Z(i.elements.preview);if(i._currentZoom=e?e.value:i._currentZoom,s.scale=i._currentZoom,t(),i.options.enforceBoundary){var r=v.call(i,a),u=r.translate,l=r.origin;s.x>=u.maxX&&(o.x=l.minX,s.x=u.maxX),s.x<=u.minX&&(o.x=l.maxX,s.x=u.minX),s.y>=u.maxY&&(o.y=l.minY,s.y=u.maxY),s.y<=u.minY&&(o.y=l.maxY,s.y=u.minY)}t(),X.call(i),E.call(i)}function v(e){var t=this,i=t._currentZoom,s=e.width,a=e.height,n=t.elements.boundary.clientWidth/2,o=t.elements.boundary.clientHeight/2,r=t.elements.preview.getBoundingClientRect(),u=r.width,l=r.height,h=s/2,c=a/2,d=(h/i-n)*-1,p=d-(u*(1/i)-s*(1/i)),f=(c/i-o)*-1,g=f-(l*(1/i)-a*(1/i)),m=1/i*h,v=u*(1/i)-m,y=1/i*c,w=l*(1/i)-y;return{translate:{maxX:d,minX:p,maxY:f,minY:g},origin:{maxX:v,minX:m,maxY:w,minY:y}}}function y(){var e=this,t=e._currentZoom,i=e.elements.preview.getBoundingClientRect(),s=e.elements.viewport.getBoundingClientRect(),a=P.parse(e.elements.preview.style[V]),o=new Z(e.elements.preview),r=s.top-i.top+s.height/2,u=s.left-i.left+s.width/2,l={},h={};l.y=r/t,l.x=u/t,h.y=(l.y-o.y)*(1-t),h.x=(l.x-o.x)*(1-t),a.x-=h.x,a.y-=h.y;var c={};c[W]=l.x+"px "+l.y+"px",c[V]=a.toString(),n(e.elements.preview,c)}function w(){function e(e,t){var i=p.elements.preview.getBoundingClientRect(),s=d.y+t,a=d.x+e;p.options.enforceBoundary?(c.top>i.top+t&&c.bottom<i.bottom+t&&(d.y=s),c.left>i.left+e&&c.right<i.right+e&&(d.x=a)):(d.y=s,d.x=a)}function t(e){function t(e){switch(e){case s:return[1,0];case a:return[0,1];case n:return[-1,0];case o:return[0,-1]}}var s=37,a=38,n=39,o=40;if(!e.shiftKey||e.keyCode!=a&&e.keyCode!=o){if(e.keyCode>=37&&e.keyCode<=40){e.preventDefault();var r=t(e.keyCode);d=P.parse(p.elements.preview),document.body.style[R]="none",c=p.elements.viewport.getBoundingClientRect(),i(r)}}else{var u=0;u=e.keyCode==a?parseFloat(p.elements.zoomer.value,10)+parseFloat(p.elements.zoomer.step,10):parseFloat(p.elements.zoomer.value,10)-parseFloat(p.elements.zoomer.step,10),p.setZoom(u)}}function i(t){var i=t[0],s=t[1],a={};e(i,s),a[V]=d.toString(),n(p.elements.preview,a),D.call(p),document.body.style[R]="",y.call(p),E.call(p),h=0}function s(e){if(e.preventDefault(),!g){if(g=!0,u=e.pageX,l=e.pageY,e.touches){var t=e.touches[0];u=t.pageX,l=t.pageY}d=P.parse(p.elements.preview),window.addEventListener("mousemove",o),window.addEventListener("touchmove",o),window.addEventListener("mouseup",r),window.addEventListener("touchend",r),document.body.style[R]="none",c=p.elements.viewport.getBoundingClientRect()}}function o(t){t.preventDefault();var i=t.pageX,s=t.pageY;if(t.touches){var o=t.touches[0];i=o.pageX,s=o.pageY}var r=i-u,c=s-l,g={};if("touchmove"==t.type&&t.touches.length>1){var m=t.touches[0],v=t.touches[1],y=Math.sqrt((m.pageX-v.pageX)*(m.pageX-v.pageX)+(m.pageY-v.pageY)*(m.pageY-v.pageY));h||(h=y/p._currentZoom);var w=y/h;return f.call(p,w),void a(p.elements.zoomer)}e(r,c),g[V]=d.toString(),n(p.elements.preview,g),D.call(p),l=s,u=i}function r(){g=!1,window.removeEventListener("mousemove",o),window.removeEventListener("touchmove",o),window.removeEventListener("mouseup",r),window.removeEventListener("touchend",r),document.body.style[R]="",y.call(p),E.call(p),h=0}var u,l,h,c,d,p=this,g=!1;p.elements.overlay.addEventListener("mousedown",s),p.elements.viewport.addEventListener("keydown",t),p.elements.overlay.addEventListener("touchstart",s)}function D(){var e=this,t=e.elements.boundary.getBoundingClientRect(),i=e.elements.preview.getBoundingClientRect();n(e.elements.overlay,{width:i.width+"px",height:i.height+"px",top:i.top-t.top+"px",left:i.left-t.left+"px"})}function E(){var e,t=this,i=t.get();if(b.call(t))if(t.options.update.call(t,i),t.$)t.$(t.element).trigger("update",i);else{var e;window.CustomEvent?e=new CustomEvent("update",{detail:i}):(e=document.createEvent("CustomEvent"),e.initCustomEvent("update",!0,!0,i)),t.element.dispatchEvent(e)}}function b(){return this.elements.preview.offsetHeight>0&&this.elements.preview.offsetWidth>0}function C(){var e,t,i,s,o,r=this,u=0,l=1.5,h=1,c={},d=r.elements.preview,p=r.elements.zoomer,g=new P(0,0,h),m=new Z,v=b.call(r);if(v&&!r.data.bound){if(r.data.bound=!0,c[V]=g.toString(),c[W]=m.toString(),c.opacity=1,n(d,c),e=d.getBoundingClientRect(),t=r.elements.viewport.getBoundingClientRect(),i=r.elements.boundary.getBoundingClientRect(),r._originalImageWidth=e.width,r._originalImageHeight=e.height,r.options.enableZoom){r.options.enforceBoundary&&(s=t.width/e.width,o=t.height/e.height,u=Math.max(s,o)),u>=l&&(l=u+1),p.min=U(u,4),p.max=U(l,4);var w=Math.max(i.width/e.width,i.height/e.height);h=null!==r.data.boundZoom?r.data.boundZoom:w,f.call(r,h),a(p)}else r._currentZoom=h;g.scale=r._currentZoom,c[V]=g.toString(),n(d,c),r.data.points.length?k.call(r,r.data.points):F.call(r),y.call(r),D.call(r)}}function k(e){if(4!=e.length)throw"Croppie - Invalid number of points supplied: "+e;var t=this,i=e[2]-e[0],s=t.elements.viewport.getBoundingClientRect(),a=t.elements.boundary.getBoundingClientRect(),o={left:s.left-a.left,top:s.top-a.top},r=s.width/i,u=e[1],l=e[0],h=-1*e[1]+o.top,c=-1*e[0]+o.left,d={};d[W]=l+"px "+u+"px",d[V]=new P(c,h,r).toString(),n(t.elements.preview,d),f.call(t,r),t._currentZoom=r}function F(){var e=this,t=e.elements.preview.getBoundingClientRect(),i=e.elements.viewport.getBoundingClientRect(),s=e.elements.boundary.getBoundingClientRect(),a=i.left-s.left,o=i.top-s.top,r=a-(t.width-i.width)/2,u=o-(t.height-i.height)/2,l=new P(r,u,e._currentZoom);n(e.elements.preview,V,l.toString())}function A(e){var t=this,i=t.elements.canvas,s=t.elements.img,a=i.getContext("2d"),n=p.call(t),e=t.options.enableOrientation&&e;a.clearRect(0,0,i.width,i.height),i.width=s.width,i.height=s.height,n?h(s,function(t){c(i,s,u(t,10)),e&&c(i,s,e)}):e&&c(i,s,e)}function _(e){var t=this,i=e.points,s=u(i[0]),a=u(i[1]),n=i[2]-i[0],o=i[3]-i[1],r=e.circle,l=document.createElement("canvas"),h=l.getContext("2d"),c=n,d=o,p=0,f=0;return e.outputWidth&&e.outputHeight&&(c=e.outputWidth,d=e.outputHeight),l.width=c,l.height=d,e.backgroundColor&&(h.fillStyle=e.backgroundColor,h.fillRect(0,0,c,d)),s<0&&(p=Math.abs(s),s=0),a<0&&(f=Math.abs(a),a=0),s+n>t._originalImageWidth&&(n=t._originalImageWidth-s,c=n),a+o>t._originalImageHeight&&(o=t._originalImageHeight-a,d=o),h.drawImage(this.elements.preview,s,a,n,o,p,f,c,d),r&&(h.fillStyle="#fff",h.globalCompositeOperation="destination-in",h.beginPath(),h.arc(c/2,d/2,c/2,0,2*Math.PI,!0),h.closePath(),h.fill()),l}function x(e){var t=e.points,i=document.createElement("div"),s=document.createElement("img"),a=t[2]-t[0],r=t[3]-t[1];return o(i,"croppie-result"),i.appendChild(s),n(s,{left:-1*t[0]+"px",top:-1*t[1]+"px"}),s.src=e.url,n(i,{width:a+"px",height:r+"px"}),i}function $(e){return _.call(this,e).toDataURL(e.format,e.quality)}function T(e){var t=this;return new Promise(function(i,s){_.call(t,e).toBlob(function(e){i(e)},e.format,e.quality)})}function M(e,t){var i,s=this,a=[],n=null;if("string"==typeof e)i=e,e={};else if(Array.isArray(e))a=e.slice();else{if("undefined"==typeof e&&s.data.url)return C.call(s),E.call(s),null;i=e.url,a=e.points||[],n="undefined"==typeof e.zoom?null:e.zoom}s.data.bound=!1,s.data.url=i||s.data.url,s.data.points=(a||s.data.points).map(function(e){return parseFloat(e)}),s.data.boundZoom=n;var o=l(i,s.elements.img,s.options.useCanvas);return o.then(function(){s.options.useCanvas&&(s.elements.img.exifdata=null,A.call(s,e.orientation||1)),C.call(s),E.call(s),t&&t()}),o}function U(e,t){return parseFloat(e).toFixed(t||0)}function B(){var e=this,t=e.elements.preview.getBoundingClientRect(),i=e.elements.viewport.getBoundingClientRect(),s=i.left-t.left,a=i.top-t.top,n=(i.width-e.elements.viewport.offsetWidth)/2,o=(i.height-e.elements.viewport.offsetHeight)/2,r=s+e.elements.viewport.offsetWidth+n,u=a+e.elements.viewport.offsetHeight+o,l=e._currentZoom;(l===1/0||isNaN(l))&&(l=1);var h=e.options.enforceBoundary?0:Number.NEGATIVE_INFINITY;return s=Math.max(h,s/l),a=Math.max(h,a/l),r=Math.max(h,r/l),u=Math.max(h,u/l),{points:[U(s),U(a),U(r),U(u)],zoom:l}}function S(e){var t,s=this,a=B.call(s),n=i(G,i({},e)),o="string"==typeof e?e:n.type||"base64",r=n.size,u=n.format,l=n.quality,h=n.backgroundColor,c="boolean"==typeof n.circle?n.circle:"circle"===s.options.viewport.type,d=s.elements.viewport.getBoundingClientRect(),p=d.width/d.height;return"viewport"===r?(a.outputWidth=d.width,a.outputHeight=d.height):"object"==typeof r&&(r.width&&r.height?(a.outputWidth=r.width,a.outputHeight=r.height):r.width?(a.outputWidth=r.width,a.outputHeight=r.width/p):r.height&&(a.outputWidth=r.height*p,a.outputHeight=r.height)),q.indexOf(u)>-1&&(a.format="image/"+u,a.quality=l),a.circle=c,a.url=s.data.url,a.backgroundColor=h,t=new Promise(function(e,t){switch(o.toLowerCase()){case"rawcanvas":e(_.call(s,a));break;case"canvas":case"base64":e($.call(s,a));break;case"blob":T.call(s,a).then(e);break;default:e(x.call(s,a))}})}function I(){C.call(this)}function O(e){if(!this.options.useCanvas)throw"Croppie: Cannot rotate without enableOrientation";var t=this,i=t.elements.canvas,s=(t.elements.img,document.createElement("canvas")),a=1;s.width=i.width,s.height=i.height;var n=s.getContext("2d");n.drawImage(i,0,0),90!==e&&e!==-270||(a=6),e!==-90&&270!==e||(a=8),180!==e&&e!==-180||(a=3),c(i,s,a),m.call(t)}function Y(){var e=this;e.element.removeChild(e.elements.boundary),r(e.element,"croppie-container"),e.options.enableZoom&&e.element.removeChild(e.elements.zoomerWrap),delete e.elements}function N(e,t){if(this.element=e,this.options=i(i({},N.defaults),t),"img"===this.element.tagName.toLowerCase()){var s=this.element;o(s,"cr-original-image");var a=document.createElement("div");this.element.parentNode.appendChild(a),a.appendChild(s),this.element=a,this.options.url=this.options.url||s.src}if(d.call(this),this.options.url){var n={url:this.options.url,points:this.options.points};delete this.options.url,delete this.options.points,M.call(this,n)}}"function"!=typeof Promise&&!function(e){function t(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(e,t(a,this),t(n,this))}function s(e){var t=this;return null===this._state?void this._deferreds.push(e):void h(function(){var i=t._state?e.onFulfilled:e.onRejected;if(null===i)return void(t._state?e.resolve:e.reject)(t._value);var s;try{s=i(t._value)}catch(a){return void e.reject(a)}e.resolve(s)})}function a(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if("function"==typeof i)return void u(t(i,e),t(a,this),t(n,this))}this._state=!0,this._value=e,o.call(this)}catch(s){n.call(this,s)}}function n(e){this._state=!1,this._value=e,o.call(this)}function o(){for(var e=0,t=this._deferreds.length;t>e;e++)s.call(this,this._deferreds[e]);this._deferreds=null}function r(e,t,i,s){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=i,this.reject=s}function u(e,t,i){var s=!1;try{e(function(e){s||(s=!0,t(e))},function(e){s||(s=!0,i(e))})}catch(a){if(s)return;s=!0,i(a)}}var l=setTimeout,h="function"==typeof setImmediate&&setImmediate||function(e){l(e,1)},c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};i.prototype["catch"]=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var a=this;return new i(function(i,n){s.call(a,new r(e,t,i,n))})},i.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&c(arguments[0])?arguments[0]:arguments);return new i(function(t,i){function s(n,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var r=o.then;if("function"==typeof r)return void r.call(o,function(e){s(n,e)},i)}e[n]=o,0===--a&&t(e)}catch(u){i(u)}}if(0===e.length)return t([]);for(var a=e.length,n=0;n<e.length;n++)s(n,e[n])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,i){i(e)})},i.race=function(e){return new i(function(t,i){for(var s=0,a=e.length;a>s;s++)e[s].then(t,i)})},i._setImmediateFn=function(e){h=e},"undefined"!=typeof module&&module.exports?module.exports=i:e.Promise||(e.Promise=i)}(this),"function"!=typeof window.CustomEvent&&!function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}e.prototype=window.Event.prototype,window.CustomEvent=e}(),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,i){for(var s=atob(this.toDataURL(t,i).split(",")[1]),a=s.length,n=new Uint8Array(a),o=0;o<a;o++)n[o]=s.charCodeAt(o);e(new Blob([n],{type:t||"image/png"}))}});var W,V,R,j=["Webkit","Moz","ms"],H=document.createElement("div").style;V=t("transform"),W=t("transformOrigin"),R=t("userSelect");var L="translate3d",z=", 0px",P=function(e,t,i){this.x=parseFloat(e),this.y=parseFloat(t),this.scale=parseFloat(i)};P.parse=function(e){return e.style?P.parse(e.style[V]):e.indexOf("matrix")>-1||e.indexOf("none")>-1?P.fromMatrix(e):P.fromString(e)},P.fromMatrix=function(e){var t=e.substring(7).split(",");return t.length&&"none"!==e||(t=[1,0,0,1,0,0]),new P(u(t[4]),u(t[5]),parseFloat(t[0]))},P.fromString=function(e){var t=e.split(") "),i=t[0].substring(L.length+1).split(","),s=t.length>1?t[1].substring(6):1,a=i.length>1?i[0]:0,n=i.length>1?i[1]:0;return new P(a,n,s)},P.prototype.toString=function(){return L+"("+this.x+"px, "+this.y+"px"+z+") scale("+this.scale+")"};var Z=function(e){if(!e||!e.style[W])return this.x=0,void(this.y=0);var t=e.style[W].split(" ");this.x=parseFloat(t[0]),this.y=parseFloat(t[1])};Z.prototype.toString=function(){return this.x+"px "+this.y+"px"};var X=s(D,500),G={type:"canvas",format:"png",quality:1},q=["jpeg","webp","png"];if(window.jQuery){var J=window.jQuery;J.fn.croppie=function(e){var t=typeof e;if("string"===t){var i=Array.prototype.slice.call(arguments,1),s=J(this).data("croppie");return"get"===e?s.get():"result"===e?s.result.apply(s,i):"bind"===e?s.bind.apply(s,i):this.each(function(){var t=J(this).data("croppie");if(t){var s=t[e];if(!J.isFunction(s))throw"Croppie "+e+" method not found";s.apply(t,i),"destroy"===e&&J(this).removeData("croppie")}})}return this.each(function(){var t=new N(this,e);t.$=J,J(this).data("croppie",t)})}}N.defaults={viewport:{width:100,height:100,type:"square"},boundary:{},orientationControls:{enabled:!0,leftClass:"",rightClass:""},customClass:"",showZoomer:!0,enableZoom:!0,mouseWheelZoom:!0,enableExif:!1,enforceBoundary:!0,enableOrientation:!1,update:function(){}},i(N.prototype,{bind:function(e,t){return M.call(this,e,t)},get:function(){return B.call(this)},result:function(e){return S.call(this,e)},refresh:function(){return I.call(this)},setZoom:function(e){f.call(this,e),a(this.elements.zoomer)},rotate:function(e){O.call(this,e)},destroy:function(){return Y.call(this)}}),e.Croppie=window.Croppie=N,"object"==typeof module&&module.exports&&(module.exports=N)}),$(".input-group.date").datepicker({startView:2,language:"zh-TW",orientation:"bottom auto",autoclose:!0}),function(e){"use strict";function t(t,s){var a=this,n=t.attr("name")||s.name||"";this.options=s,this.$el=t.hide(),this.$label=this.$el.closest("label"),0===this.$label.length&&this.$el.attr("id")&&(this.$label=e(i('label[for="%s"]',this.$el.attr("id").replace(/:/g,"\\:")))),this.$parent=e(i('<div class="ms-parent %s" %s/>',t.attr("class")||"",i('title="%s"',t.attr("title")))),this.$choice=e(i(['<button type="button" class="ms-choice">','<span class="placeholder">%s</span>',"<div></div>","</button>"].join(""),this.options.placeholder)),this.$drop=e(i('<div class="ms-drop %s"%s></div>',this.options.position,i(' style="width: %s"',this.options.dropWidth))),this.$el.after(this.$parent),this.$parent.append(this.$choice),this.$parent.append(this.$drop),this.$el.prop("disabled")&&this.$choice.addClass("disabled"),this.$parent.css("width",this.options.width||this.$el.css("width")||this.$el.outerWidth()+20),this.selectAllName='data-name="selectAll'+n+'"',this.selectGroupName='data-name="selectGroup'+n+'"',this.selectItemName='data-name="selectItem'+n+'"',this.options.keepOpen||e(document).click(function(i){e(i.target)[0]!==a.$choice[0]&&e(i.target).parents(".ms-choice")[0]!==a.$choice[0]&&(e(i.target)[0]===a.$drop[0]||e(i.target).parents(".ms-drop")[0]!==a.$drop[0]&&i.target!==t[0])&&a.options.isOpen&&a.close()})}var i=function(e){var t=arguments,i=!0,s=1;return e=e.replace(/%s/g,function(){var e=t[s++];return"undefined"==typeof e?(i=!1,""):e}),i?e:""},s=function(e){for(var t=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],i=0;i<t.length;i++)e=e.replace(t[i].letters,t[i].base);return e};t.prototype={constructor:t,init:function(){var t=this,s=e("<ul></ul>");this.$drop.html(""),this.options.filter&&this.$drop.append(['<div class="ms-search">','<input type="text" autocomplete="off" autocorrect="off" autocapitilize="off" spellcheck="false">',"</div>"].join("")),this.options.selectAll&&!this.options.single&&s.append(['<li class="ms-select-all">',"<label>",i('<input type="checkbox" %s /> ',this.selectAllName),this.options.selectAllDelimiter[0],this.options.selectAllText,this.options.selectAllDelimiter[1],"</label>","</li>"].join("")),e.each(this.$el.children(),function(e,i){s.append(t.optionToHtml(e,i))}),s.append(i('<li class="ms-no-results">%s</li>',this.options.noMatchesFound)),this.$drop.append(s),this.$drop.find("ul").css("max-height",this.options.maxHeight+"px"),this.$drop.find(".multiple").css("width",this.options.multipleWidth+"px"),this.$searchInput=this.$drop.find(".ms-search input"),
this.$selectAll=this.$drop.find("input["+this.selectAllName+"]"),this.$selectGroups=this.$drop.find("input["+this.selectGroupName+"]"),this.$selectItems=this.$drop.find("input["+this.selectItemName+"]:enabled"),this.$disableItems=this.$drop.find("input["+this.selectItemName+"]:disabled"),this.$noResults=this.$drop.find(".ms-no-results"),this.events(),this.updateSelectAll(!0),this.update(!0),this.options.isOpen&&this.open()},optionToHtml:function(t,s,a,n){var o,r=this,u=e(s),l=u.attr("class")||"",h=i('title="%s"',u.attr("title")),c=this.options.multiple?"multiple":"",d=this.options.single?"radio":"checkbox";if(u.is("option")){var p,f=u.val(),g=r.options.textTemplate(u),m=u.prop("selected"),v=i('style="%s"',this.options.styler(f));return o=n||u.prop("disabled"),p=e([i('<li class="%s %s" %s %s>',c,l,h,v),i('<label class="%s">',o?"disabled":""),i('<input type="%s" %s%s%s%s>',d,this.selectItemName,m?' checked="checked"':"",o?' disabled="disabled"':"",i(' data-group="%s"',a)),i("<span>%s</span>",g),"</label>","</li>"].join("")),p.find("input").val(f),p}if(u.is("optgroup")){var y=r.options.labelTemplate(u),w=e("<div/>");return a="group_"+t,o=u.prop("disabled"),w.append(['<li class="group">',i('<label class="optgroup %s" data-group="%s">',o?"disabled":"",a),this.options.hideOptgroupCheckboxes||this.options.single?"":i('<input type="checkbox" %s %s>',this.selectGroupName,o?'disabled="disabled"':""),y,"</label>","</li>"].join("")),e.each(u.children(),function(e,t){w.append(r.optionToHtml(e,t,a,o))}),w.html()}},events:function(){var t=this,s=function(e){e.preventDefault(),t[t.options.isOpen?"close":"open"]()};this.$label&&this.$label.off("click").on("click",function(e){"label"===e.target.nodeName.toLowerCase()&&e.target===this&&(s(e),t.options.filter&&t.options.isOpen||t.focus(),e.stopPropagation())}),this.$choice.off("click").on("click",s).off("focus").on("focus",this.options.onFocus).off("blur").on("blur",this.options.onBlur),this.$parent.off("keydown").on("keydown",function(e){switch(e.which){case 27:t.close(),t.$choice.focus()}}),this.$searchInput.off("keydown").on("keydown",function(e){9===e.keyCode&&e.shiftKey&&t.close()}).off("keyup").on("keyup",function(e){return t.options.filterAcceptOnEnter&&(13===e.which||32==e.which)&&t.$searchInput.val()?(t.$selectAll.click(),t.close(),void t.focus()):void t.filter()}),this.$selectAll.off("click").on("click",function(){var i=e(this).prop("checked"),s=t.$selectItems.filter(":visible");s.length===t.$selectItems.length?t[i?"checkAll":"uncheckAll"]():(t.$selectGroups.prop("checked",i),s.prop("checked",i),t.options[i?"onCheckAll":"onUncheckAll"](),t.update())}),this.$selectGroups.off("click").on("click",function(){var s=e(this).parent().attr("data-group"),a=t.$selectItems.filter(":visible"),n=a.filter(i('[data-group="%s"]',s)),o=n.length!==n.filter(":checked").length;n.prop("checked",o),t.updateSelectAll(),t.update(),t.options.onOptgroupClick({label:e(this).parent().text(),checked:o,children:n.get(),instance:t})}),this.$selectItems.off("click").on("click",function(){if(t.updateSelectAll(),t.update(),t.updateOptGroupSelect(),t.options.onClick({label:e(this).parent().text(),value:e(this).val(),checked:e(this).prop("checked"),instance:t}),t.options.single&&t.options.isOpen&&!t.options.keepOpen&&t.close(),t.options.single){var i=e(this).val();t.$selectItems.filter(function(){return e(this).val()!==i}).each(function(){e(this).prop("checked",!1)}),t.update()}})},open:function(){if(!this.$choice.hasClass("disabled")){if(this.options.isOpen=!0,this.$choice.find(">div").addClass("open"),this.$drop[this.animateMethod("show")](),this.$selectAll.parent().show(),this.$noResults.hide(),this.$el.children().length||(this.$selectAll.parent().hide(),this.$noResults.show()),this.options.container){var t=this.$drop.offset();this.$drop.appendTo(e(this.options.container)),this.$drop.offset({top:t.top,left:t.left})}this.options.filter&&(this.$searchInput.val(""),this.$searchInput.focus(),this.filter()),this.options.onOpen()}},close:function(){this.options.isOpen=!1,this.$choice.find(">div").removeClass("open"),this.$drop[this.animateMethod("hide")](),this.options.container&&(this.$parent.append(this.$drop),this.$drop.css({top:"auto",left:"auto"})),this.options.onClose()},animateMethod:function(e){var t={show:{fade:"fadeIn",slide:"slideDown"},hide:{fade:"fadeOut",slide:"slideUp"}};return t[e][this.options.animate]||e},update:function(t){var i=this.options.displayValues?this.getSelects():this.getSelects("text"),s=this.$choice.find(">span"),a=i.length;0===a?s.addClass("placeholder").html(this.options.placeholder):this.options.allSelected&&a===this.$selectItems.length+this.$disableItems.length?s.removeClass("placeholder").html(this.options.allSelected):this.options.ellipsis&&a>this.options.minimumCountSelected?s.removeClass("placeholder").text(i.slice(0,this.options.minimumCountSelected).join(this.options.delimiter)+"..."):this.options.countSelected&&a>this.options.minimumCountSelected?s.removeClass("placeholder").html(this.options.countSelected.replace("#",i.length).replace("%",this.$selectItems.length+this.$disableItems.length)):s.removeClass("placeholder").text(i.join(this.options.delimiter)),this.options.addTitle&&s.prop("title",this.getSelects("text")),this.$el.val(this.getSelects()).trigger("change"),this.$drop.find("li").removeClass("selected"),this.$drop.find("input:checked").each(function(){e(this).parents("li").first().addClass("selected")}),t||this.$el.trigger("change")},updateSelectAll:function(e){var t=this.$selectItems;e||(t=t.filter(":visible")),this.$selectAll.prop("checked",t.length&&t.length===t.filter(":checked").length),!e&&this.$selectAll.prop("checked")&&this.options.onCheckAll()},updateOptGroupSelect:function(){var t=this.$selectItems.filter(":visible");e.each(this.$selectGroups,function(s,a){var n=e(a).parent().attr("data-group"),o=t.filter(i('[data-group="%s"]',n));e(a).prop("checked",o.length&&o.length===o.filter(":checked").length)})},getSelects:function(t){var s=this,a=[],n=[];return this.$drop.find(i("input[%s]:checked",this.selectItemName)).each(function(){a.push(e(this).parents("li").first().text()),n.push(e(this).val())}),"text"===t&&this.$selectGroups.length&&(a=[],this.$selectGroups.each(function(){var t=[],n=e.trim(e(this).parent().text()),o=e(this).parent().data("group"),r=s.$drop.find(i('[%s][data-group="%s"]',s.selectItemName,o)),u=r.filter(":checked");if(u.length){if(t.push("["),t.push(n),r.length>u.length){var l=[];u.each(function(){l.push(e(this).parent().text())}),t.push(": "+l.join(", "))}t.push("]"),a.push(t.join(""))}})),"text"===t?a:n},setSelects:function(t){var s=this;this.$selectItems.prop("checked",!1),this.$disableItems.prop("checked",!1),e.each(t,function(e,t){s.$selectItems.filter(i('[value="%s"]',t)).prop("checked",!0),s.$disableItems.filter(i('[value="%s"]',t)).prop("checked",!0)}),this.$selectAll.prop("checked",this.$selectItems.length===this.$selectItems.filter(":checked").length+this.$disableItems.filter(":checked").length),e.each(s.$selectGroups,function(t,i){var a=e(i).parent().attr("data-group"),n=s.$selectItems.filter('[data-group="'+a+'"]');e(i).prop("checked",n.length&&n.length===n.filter(":checked").length)}),this.update()},enable:function(){this.$choice.removeClass("disabled")},disable:function(){this.$choice.addClass("disabled")},checkAll:function(){this.$selectItems.prop("checked",!0),this.$selectGroups.prop("checked",!0),this.$selectAll.prop("checked",!0),this.update(),this.options.onCheckAll()},uncheckAll:function(){this.$selectItems.prop("checked",!1),this.$selectGroups.prop("checked",!1),this.$selectAll.prop("checked",!1),this.update(),this.options.onUncheckAll()},focus:function(){this.$choice.focus(),this.options.onFocus()},blur:function(){this.$choice.blur(),this.options.onBlur()},refresh:function(){this.init()},filter:function(){var t=this,a=e.trim(this.$searchInput.val()).toLowerCase();0===a.length?(this.$selectAll.parent().show(),this.$selectItems.parent().show(),this.$disableItems.parent().show(),this.$selectGroups.parent().show(),this.$noResults.hide()):(this.$selectItems.each(function(){var t=e(this).parent();t[s(t.text().toLowerCase()).indexOf(s(a))<0?"hide":"show"]()}),this.$disableItems.parent().hide(),this.$selectGroups.each(function(){var s=e(this).parent(),a=s.attr("data-group"),n=t.$selectItems.filter(":visible");s[n.filter(i('[data-group="%s"]',a)).length?"show":"hide"]()}),this.$selectItems.parent().filter(":visible").length?(this.$selectAll.parent().show(),this.$noResults.hide()):(this.$selectAll.parent().hide(),this.$noResults.show())),this.updateOptGroupSelect(),this.updateSelectAll(),this.options.onFilter(a)}},e.fn.multipleSelect=function(){var i,s=arguments[0],a=arguments,n=["getSelects","setSelects","enable","disable","open","close","checkAll","uncheckAll","focus","blur","refresh","close"];return this.each(function(){var o=e(this),r=o.data("multipleSelect"),u=e.extend({},e.fn.multipleSelect.defaults,o.data(),"object"==typeof s&&s);if(r||(r=new t(o,u),o.data("multipleSelect",r)),"string"==typeof s){if(e.inArray(s,n)<0)throw"Unknown method: "+s;i=r[s](a[1])}else r.init(),a[1]&&(i=r[a[1]].apply(r,[].slice.call(a,2)))}),"undefined"!=typeof i?i:this},e.fn.multipleSelect.defaults={name:"",isOpen:!1,placeholder:"",selectAll:!0,selectAllDelimiter:["[","]"],minimumCountSelected:3,ellipsis:!1,multiple:!1,multipleWidth:80,single:!1,filter:!1,width:void 0,dropWidth:void 0,maxHeight:250,container:null,position:"bottom",keepOpen:!1,animate:"none",displayValues:!1,delimiter:", ",addTitle:!1,filterAcceptOnEnter:!1,hideOptgroupCheckboxes:!1,selectAllText:"Select all",allSelected:"All selected",countSelected:"# of % selected",noMatchesFound:"No matches found",styler:function(){return!1},textTemplate:function(e){return e.html()},labelTemplate:function(e){return e.attr("label")},onOpen:function(){return!1},onClose:function(){return!1},onCheckAll:function(){return!1},onUncheckAll:function(){return!1},onFocus:function(){return!1},onBlur:function(){return!1},onOptgroupClick:function(){return!1},onClick:function(){return!1},onFilter:function(){return!1}}}(jQuery);const $win=$(window),$header=$("header"),$logo=$("header .logo");$win.scroll(function(){$win.width()>414&&0==$header.offset().top?$logo.css("background-color","#fff"):$logo.css("background-color","transparent")}),$(".page-top").click(function(){$("html,body").animate({scrollTop:0},500)});const $body=$("body"),$menu_wrap=$(".menu-wrap"),$title=$(".menu-wrap .title"),$close_menu=$(".close-menu");$close_menu.click(function(){$menu_wrap.addClass("hide"),$body.css("overflow","scroll"),$(".menu-wrap > div").addClass("hide")}),menuClickHandle($("header .fa-search"),"搜尋",$(".menu-wrap .search")),menuClickHandle($("header .fa-book"),"選課清單",$(".menu-wrap .lists")),menuClickHandle($("header .fa-bell-o"),"通知",$(".menu-wrap .notice")),menuClickHandle($("header .fa-bars"),"選單",$(".menu-wrap .menu")),menuClickHandle($(".slider main .btn"),"登入",$(".menu-wrap .login")),$(function(){function e(e){if(e.files&&e.files[0]){var s=new FileReader,a=new Image,n=e.files[0];a.onload=function(){this.width>150&&this.height>150?(s.onload=function(e){t.croppie("bind",{url:e.target.result})},s.readAsDataURL(n)):alert("請上傳至少長寬都超過150的照片,你剛剛的照片大小是 "+this.width+"x"+this.height+".")},a.src=i.createObjectURL(n),a.onerror=function(){alert("請上傳照片格式的檔案，你剛剛傳了 "+n.type+"不是照片喔！")}}else console.log("you're browser doesn't support the FileReader API")}var t,i=window.URL||window.webkitURL;t=$("#upload-demo").croppie({viewport:{width:150,height:150,type:"circle"},boundary:{width:300,height:300}}),$("#upload").on("change",function(){$(".popout-wrap").css("top","0"),e(this)}),$(".upload-result").on("click",function(e){$(".popout-wrap").css("top","-100%"),t.croppie("result",{type:"canvas",size:{width:300,height:300}}).then(function(e){$("#upload-img").attr("src",e)})})}),$("#identity").multipleSelect({selectAll:!1});